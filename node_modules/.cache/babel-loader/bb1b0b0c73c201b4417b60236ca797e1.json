{"remainingRequest":"/Users/xskss/工作区/haveyoueaten的副本/node_modules/babel-loader/lib/index.js!/Users/xskss/工作区/haveyoueaten的副本/src/api/axios.js","dependencies":[{"path":"/Users/xskss/工作区/haveyoueaten的副本/src/api/axios.js","mtime":1594297990916},{"path":"/Users/xskss/工作区/haveyoueaten的副本/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xskss/工作区/haveyoueaten的副本/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveHNrc3MvXHU1REU1XHU0RjVDXHU1MzNBL2hhdmV5b3VlYXRlblx1NzY4NFx1NTI2Rlx1NjcyQy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy94c2tzcy9cdTVERTVcdTRGNUNcdTUzM0EvaGF2ZXlvdWVhdGVuXHU3Njg0XHU1MjZGXHU2NzJDL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBjb25maWcgZnJvbSAiQC9jb25maWciOwp2YXIgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAiZGV2ZWxvcG1lbnQiID8gY29uZmlnLmJhc2VVcmwuZGV2IDogY29uZmlnLmJhc2VVcmwucHJvOyAvLyBjb25zb2xlLmxvZyhwcm9jZXNzLmVudi5OT0RFX0VOVik7Cgp2YXIgSHR0cFJlcXVlc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEh0dHBSZXF1ZXN0KGJhc2VVcmwpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIdHRwUmVxdWVzdCk7CgogICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDsKICAgIHRoaXMucXVldWUgPSB7fTsKICB9CgogIF9jcmVhdGVDbGFzcyhIdHRwUmVxdWVzdCwgW3sKICAgIGtleTogImdldEluc2lkZUNvbmZpZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zaWRlQ29uZmlnKCkgewogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGJhc2VVUkw6IHRoaXMuYmFzZVVybCwKICAgICAgICBoZWFkZXI6IHsvLwogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIGNvbmZpZzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnRlcmNlcHRvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGludGVyY2VwdG9ycyhpbnN0YW5jZSwgdXJsKSB7CiAgICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgICAgLy/lpITnkIYgY29uZmlnCiAgICAgICAgY29uc29sZS5sb2coIuaLpuaIquWSjOWkhOeQhuivt+axgiIpOwogICAgICAgIGNvbmZpZy5kYXRhID0gewogICAgICAgICAgbXNnOiAiaGVsbG93b3JsZCIKICAgICAgICB9OwogICAgICAgIGNvbnNvbGUubG9nKGNvbmZpZyk7CiAgICAgICAgcmV0dXJuIGNvbmZpZzsKICAgICAgfSk7CiAgICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCLlpITnkIblk43lupQiKTsgLy8gY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvL+ivt+axguWHuumXrumimO+8jOWkhOeQhumXrumimAogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZXJyb3I6ICLnvZHnu5zlh7rplJnkuoYiCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVxdWVzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdChvcHRpb25zKSB7CiAgICAgIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSgpOyAvL+WIm+mAoOWunuS+i+WvueixoQoKICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5nZXRJbnNpZGVDb25maWcoKSwgb3B0aW9ucyk7CiAgICAgIHRoaXMuaW50ZXJjZXB0b3JzKGluc3RhbmNlLCBvcHRpb25zLnVybCk7CiAgICAgIHJldHVybiBpbnN0YW5jZShvcHRpb25zKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBIdHRwUmVxdWVzdDsKfSgpOwoKdmFyIGF4aW9zT2JqID0gbmV3IEh0dHBSZXF1ZXN0KGJhc2VVcmwpOwpleHBvcnQgZGVmYXVsdCBheGlvc09iajs="},{"version":3,"sources":["/Users/xskss/工作区/haveyoueaten的副本/src/api/axios.js"],"names":["axios","config","baseUrl","process","env","NODE_ENV","dev","pro","HttpRequest","queue","baseURL","header","instance","url","interceptors","request","use","console","log","data","msg","response","res","error","options","create","Object","assign","getInsideConfig","axiosObj"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,OAAO,GACXC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GACIJ,MAAM,CAACC,OAAP,CAAeI,GADnB,GAEIL,MAAM,CAACC,OAAP,CAAeK,GAHrB,C,CAIA;;IACMC,W;AACJ,uBAAYN,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKO,KAAL,GAAa,EAAb;AACD;;;;sCACiB;AAChB,UAAMR,MAAM,GAAG;AACbS,QAAAA,OAAO,EAAE,KAAKR,OADD;AAEbS,QAAAA,MAAM,EAAE,CACN;AADM;AAFK,OAAf;AAMA,aAAOV,MAAP;AACD;;;iCACYW,Q,EAAUC,G,EAAK;AAC1BD,MAAAA,QAAQ,CAACE,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACf,MAAD,EAAY;AAC5C;AACAgB,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAjB,QAAAA,MAAM,CAACkB,IAAP,GAAc;AACZC,UAAAA,GAAG,EAAE;AADO,SAAd;AAGAH,QAAAA,OAAO,CAACC,GAAR,CAAYjB,MAAZ;AAEA,eAAOA,MAAP;AACD,OATD;AAUAW,MAAAA,QAAQ,CAACE,YAAT,CAAsBO,QAAtB,CAA+BL,GAA/B,CACE,UAACM,GAAD,EAAS;AACPL,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EADO,CAEP;;AACA,eAAOI,GAAG,CAACH,IAAX;AACD,OALH,EAME,UAACI,KAAD,EAAW;AACT;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACA,eAAO;AAAEA,UAAAA,KAAK,EAAE;AAAT,SAAP;AACD,OAVH;AAYD;;;4BACOC,O,EAAS;AACf,UAAMZ,QAAQ,GAAGZ,KAAK,CAACyB,MAAN,EAAjB,CADe,CACkB;;AACjCD,MAAAA,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAc,KAAKC,eAAL,EAAd,EAAsCJ,OAAtC,CAAV;AACA,WAAKV,YAAL,CAAkBF,QAAlB,EAA4BY,OAAO,CAACX,GAApC;AACA,aAAOD,QAAQ,CAACY,OAAD,CAAf;AACD;;;;;;AAGH,IAAMK,QAAQ,GAAG,IAAIrB,WAAJ,CAAgBN,OAAhB,CAAjB;AACA,eAAe2B,QAAf","sourcesContent":["import axios from \"axios\";\nimport config from \"@/config\";\n\nconst baseUrl =\n  process.env.NODE_ENV === \"development\"\n    ? config.baseUrl.dev\n    : config.baseUrl.pro;\n// console.log(process.env.NODE_ENV);\nclass HttpRequest {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n    this.queue = {};\n  }\n  getInsideConfig() {\n    const config = {\n      baseURL: this.baseUrl,\n      header: {\n        //\n      },\n    };\n    return config;\n  }\n  interceptors(instance, url) {\n    instance.interceptors.request.use((config) => {\n      //处理 config\n      console.log(\"拦截和处理请求\");\n      config.data = {\n        msg: \"helloworld\",\n      };\n      console.log(config);\n\n      return config;\n    });\n    instance.interceptors.response.use(\n      (res) => {\n        console.log(\"处理响应\");\n        // console.log(res);\n        return res.data;\n      },\n      (error) => {\n        //请求出问题，处理问题\n        console.log(error);\n        return { error: \"网络出错了\" };\n      }\n    );\n  }\n  request(options) {\n    const instance = axios.create(); //创造实例对象\n    options = Object.assign(this.getInsideConfig(), options);\n    this.interceptors(instance, options.url);\n    return instance(options);\n  }\n}\n\nconst axiosObj = new HttpRequest(baseUrl);\nexport default axiosObj;\n"]}]}