{"remainingRequest":"/Users/xskss/GitHub/HaveYouEaten/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xskss/GitHub/HaveYouEaten/src/components/ShowList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xskss/GitHub/HaveYouEaten/src/components/ShowList.vue","mtime":1595064026720},{"path":"/Users/xskss/GitHub/HaveYouEaten/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xskss/GitHub/HaveYouEaten/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/xskss/GitHub/HaveYouEaten/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xskss/GitHub/HaveYouEaten/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjb25maWcgZnJvbSAiQC9jb25maWcvaW5kZXgiOwppbXBvcnQgUmF0aW5nU3RhciBmcm9tICJAL2NvbXBvbmVudHMvcmF0aW5nU3Rhci52dWUiOwppbXBvcnQgbG9hZGluZyBmcm9tICJAL2NvbXBvbmVudHMvbG9hZGluZy52dWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvZmZzZXQ6IDAsIC8vIOaJueasoeWKoOi9veW6l+mTuuWIl+ihqO+8jOavj+asoeWKoOi9vTIw5LiqIGxpbWl0ID0gMjAKICAgICAgcHJldmVudFJlcGVhdFJldXFlc3Q6IGZhbHNlLCAvL+WIsOi+vuW6lemDqOWKoOi9veaVsOaNru+8jOmYsuatoumHjeWkjeWKoOi9vQogICAgICBzaG93QmFja1N0YXR1czogZmFsc2UsIC8v5pi+56S66L+U5Zue6aG26YOo5oyJ6ZKuCiAgICAgIHNob3dMb2FkaW5nOiB0cnVlLCAvL+aYvuekuuWKoOi9veWKqOeUuwogICAgICB0b3VjaGVuZDogdHJ1ZSAvL+ayoeacieabtOWkmuaVsOaNrgogICAgfTsKICB9LAogIHByb3BzOiBbInNob3BMaXN0QXJyIl0sCiAgbWV0aG9kczogewogICAgemh1bnNoaShzdXBwb3J0cykgewogICAgICBsZXQgemh1blN0YXR1czsKICAgICAgaWYgKHN1cHBvcnRzIGluc3RhbmNlb2YgQXJyYXkgJiYgc3VwcG9ydHMubGVuZ3RoKSB7CiAgICAgICAgc3VwcG9ydHMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGlmIChpdGVtLmljb25fbmFtZSA9PT0gIuWHhiIpIHsKICAgICAgICAgICAgemh1blN0YXR1cyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgemh1blN0YXR1cyA9IGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB6aHVuU3RhdHVzOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgUmF0aW5nU3RhciwKICAgIGxvYWRpbmcKICB9LAogIHdhdGNoOiB7CiAgICBzaG9wTGlzdEFycjogZnVuY3Rpb24odmFsKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ShowList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShowList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"shoplist_container\">\n    <ul v-if=\"shopListArr.length\">\n      <router-link\n        :to=\"{ path: 'shop' }\"\n        v-for=\"item in shopListArr\"\n        tag=\"li\"\n        :key=\"item.id\"\n        class=\"shop_li\"\n      >\n        <section>\n          <img :src=\"item.image_path\" class=\"shop_img\" />\n        </section>\n\n        <hgroup class=\"shop_right\">\n          <header class=\"shop_detail_header\">\n            <h4\n              :class=\"item.is_premium ? 'premium' : ''\"\n              class=\"shop_title ellipsis\"\n            >{{ item.name }}</h4>\n            <ul class=\"shop_detail_ul\">\n              <li v-for=\"item in item.supports\" :key=\"item.id\" class=\"supports\">{{ item.icon_name }}</li>\n            </ul>\n          </header>\n\n          <h5 class=\"rating_order_num\">\n            <section class=\"rating_order_num_left\">\n              <section class=\"rating_section\">\n                <rating-star :rating=\"item.rating\"></rating-star>\n                <span class=\"rating_num\">{{ item.rating }}</span>\n              </section>\n              <section class=\"order_section\">月售{{ item.recent_order_num }}单</section>\n            </section>\n\n            <section class=\"rating_order_num_right\">\n              <span\n                class=\"delivery_style delivery_left\"\n                v-if=\"item.delivery_mode\"\n              >{{ item.delivery_mode.text }}</span>\n              <span class=\"delivery_style delivery_right\" v-if=\"zhunshi(item.supports)\">准时达</span>\n            </section>\n          </h5>\n\n          <h5 class=\"fee_distance\">\n            <p class=\"fee\">\n              ¥{{ item.float_minimum_order_amount }}起送\n              <span class=\"segmentation\">/</span>\n              {{ item.piecewise_agent_fee.tips }}\n            </p>\n\n            <p class=\"distance_time\">\n              <span v-if=\"Number(item.distance)\">\n                {{\n                item.distance > 1000\n                ? (item.distance / 1000).toFixed(2) + \"km\"\n                : item.distance + \"m\"\n                }}\n                <span\n                  class=\"segmentation\"\n                >/</span>\n              </span>\n              <span v-else>{{ item.distance }}</span>\n              <span class=\"segmentation\">/</span>\n              <span class=\"order_time\">{{ item.order_lead_time }}</span>\n            </p>\n          </h5>\n        </hgroup>\n      </router-link>\n    </ul>\n\n    <ul v-else class=\"animation_opactiy\">\n      <li class=\"list_back_li\" v-for=\"item in 10\" :key=\"item\">\n        <img src=\"../assets/img/shopback.svg\" class=\"list_back_svg\" />\n      </li>\n    </ul>\n    <p v-if=\"touchend\" class=\"empty_data\">没有更多了</p>\n\n    <transition name=\"loading\">\n      <loading v-show=\"showLoading\"></loading>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport config from \"@/config/index\";\nimport RatingStar from \"@/components/ratingStar.vue\";\nimport loading from \"@/components/loading.vue\";\n\nexport default {\n  data() {\n    return {\n      offset: 0, // 批次加载店铺列表，每次加载20个 limit = 20\n      preventRepeatReuqest: false, //到达底部加载数据，防止重复加载\n      showBackStatus: false, //显示返回顶部按钮\n      showLoading: true, //显示加载动画\n      touchend: true //没有更多数据\n    };\n  },\n  props: [\"shopListArr\"],\n  methods: {\n    zhunshi(supports) {\n      let zhunStatus;\n      if (supports instanceof Array && supports.length) {\n        supports.forEach(item => {\n          if (item.icon_name === \"准\") {\n            zhunStatus = true;\n          }\n        });\n      } else {\n        zhunStatus = false;\n      }\n      return zhunStatus;\n    }\n  },\n  components: {\n    RatingStar,\n    loading\n  },\n  watch: {\n    shopListArr: function(val) {\n      this.showLoading = false;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"src/assets/css/mixin\";\n.shoplist_container {\n  background-color: #fff;\n  margin-bottom: 0.4rem;\n}\n.shop_li {\n  display: flex;\n  border-bottom: 0.005rem solid #f1f1f1;\n  padding: 0.15rem 0.1rem;\n}\n.shop_img {\n  @include wh(1.5rem, 1.5rem);\n  display: block;\n  margin-right: 0.08rem;\n}\n.list_back_li {\n  width: 100%;\n  height: 2rem;\n  .list_back_svg {\n    @include wh(100%, 100%);\n  }\n}\n.shop_right {\n  flex: auto;\n  .shop_detail_header {\n    @include fj;\n    align-items: center;\n    .shop_title {\n      width: 2.65rem;\n      color: #333;\n      margin: 0.1rem 0.15rem;\n      padding-top: 0.01rem;\n      text-align: left;\n      @include font(0.25rem, 0.25rem, \"PingFangSC-Regular\");\n      font-weight: 700;\n    }\n    .premium::before {\n      content: \"品牌\";\n      display: inline-block;\n      font-size: 0.1rem;\n      line-height: 0.12rem;\n      color: #333;\n      background-color: #ffd930;\n      padding: 0 0.02rem;\n      border-radius: 0.02rem;\n      margin-right: 0.04rem;\n    }\n    .shop_detail_ul {\n      display: flex;\n      transform: scale(0.8);\n      margin-right: -0.06rem;\n      .supports {\n        @include sc(0.1rem, #999);\n        border: 0.005rem solid #f1f1f1;\n        padding: 0 0.008rem;\n        border-radius: 0.016rem;\n        margin-left: 0.01rem;\n      }\n    }\n  }\n  .rating_order_num {\n    @include fj(space-between);\n    height: 0.12rem;\n    margin-top: 0.1rem;\n    padding-left: 0.15rem;\n    .rating_order_num_left {\n      @include fj(flex-start);\n      .rating_section {\n        display: flex;\n        .rating_num {\n          @include sc(0.08rem, #ff6000);\n          margin: 0 0.04rem;\n        }\n      }\n      .order_section {\n        transform: scale(0.8);\n        margin-left: -0.04rem;\n        @include sc(0.08rem, #666);\n      }\n    }\n    .rating_order_num_right {\n      display: flex;\n      align-items: center;\n      transform: scale(0.7);\n      min-width: 1rem;\n      justify-content: flex-end;\n      margin-right: -0.016rem;\n      .delivery_style {\n        font-size: 0.08rem;\n        padding: 0.008rem 0.016rem 0;\n        border-radius: 0.016rem;\n        margin-left: 0.016rem;\n        border: 1px;\n      }\n      .delivery_left {\n        color: #fff;\n        background-color: $blue;\n        border: 0.005rem solid $blue;\n      }\n      .delivery_right {\n        color: $blue;\n        border: 0.005rem solid $blue;\n      }\n    }\n  }\n  .fee_distance {\n    margin-top: 0.1rem;\n    @include fj;\n    @include sc(0.1rem, #333);\n    .fee {\n      transform: scale(0.9);\n      @include sc(0.1rem, #666);\n    }\n    .distance_time {\n      transform: scale(0.9);\n      span {\n        color: #999;\n      }\n      .order_time {\n        color: $blue;\n      }\n      .segmentation {\n        color: #ccc;\n      }\n    }\n  }\n}\n.loader_more {\n  @include font(0.12rem, 3);\n  text-align: center;\n  color: #999;\n}\n.empty_data {\n  @include sc(0.1rem, #666);\n  text-align: center;\n  line-height: 2rem;\n}\n.return_top {\n  position: fixed;\n  bottom: 0.5rem;\n  right: 0.4rem;\n  .back_top_svg {\n    @include wh(0.4rem, 0.4rem);\n  }\n}\n.loading-enter-active,\n.loading-leave-active {\n  transition: opacity 1s;\n}\n.loading-enter,\n.loading-leave-active {\n  opacity: 0;\n}\n</style>\n"]}]}